{"version":3,"sources":["components/api/api.js","components/Form/Form.jsx","components/ProductFilter/ProductFilter.jsx","components/PageNumbers/PageNumbers.jsx","components/ProductsList/ProductsList.jsx","App.jsx","index.jsx"],"names":["BASE_URL","sendDataToServer","email","password","a","fetch","method","dataToServer","json","result","accessToken","access_token","key","value","localStorage","setItem","getProductsFromServer","page","api_token","getItem","productsFromServer","Form","setEmail","setPassword","setIsLogined","sendData","errorMessage","response","handleSubmitForm","useCallback","e","preventDefault","action","className","onSubmit","type","placeholder","required","onChange","target","onClick","ProducFilter","titleValue","setTitleValue","applyTitleQuery","min","max","PageNumbers","pages","setCurrentPage","currentPage","useState","pageNumberLimit","maxPageNumberLimit","setMaxPageNumberLimit","minPageNumberLimit","setMinPageNumberLimit","handleChangePage","Number","id","prevState","disabled","map","number","classNames","pages__item_active","length","ProductsList","products","productsPerPage","i","Math","ceil","push","indexOfLastItem","indexOfFirstItem","currentItems","slice","product","title","price","thumbnail","App","setProducts","isLogined","appliedQuery","setAppliedQuery","priceValue","setPriceValue","useEffect","useMemo","filter","activeSearchParameters","dataValue","date","f","delay","timerId","clearTimeout","args","setTimeout","debounce","console","log","titleFilter","toLocaleLowerCase","includes","filteredByTitleProducts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf0ab90d.chunk.js","sourcesContent":["\nexport const BASE_URL = 'http://dummy-api.d0.acom.cloud/';\n\nconst setToLocalStorage = (key, value) => {\n  localStorage.setItem(key, value)\n};\n\nconst getFromLocalStorage = (key) => {\n  return localStorage.getItem(key)\n};\n\n  // admin@test.com\n  // admin123\n\nexport const sendDataToServer = async (email, password) => {\n  try {\n    const dataToServer = await fetch(\n      `${BASE_URL}api/auth/login?email=${email}&password=${password}`,\n      {\n        method: 'POST',\n      })\n\n      const result = await dataToServer.json();\n      const accessToken = result.access_token;\n      setToLocalStorage('token', accessToken)\n\n      return true;\n  } catch {\n    return false;\n  }\n}\n\nexport const getProductsFromServer = async (page) => {\n  let api_token = getFromLocalStorage('token')\n\n  // console.log(api_token);\n\n  const productsFromServer = await fetch(\n    `${BASE_URL}api/products?page=${page}`,\n    {\n      method: 'GET',\n      access_token: api_token,\n      // headers: {'Authorization': `Bearer ${token.access_token}`,\n      // \"Access-Control-Allow-Origin\" : \"*\",\n      // \"Access-Control-Allow-Credentials\" : true},\n      // headers: {\n        // token: api_token,\n        // 'Content-Type': 'application/json',\n        // 'Access-Control-Allow-Origin': '*',\n        // mode: 'no-cors',\n      // }\n    }\n  )\n\n  // console.log(productsFromServer);\n\n    const result2 = await productsFromServer.json();\n\n    // console.log(result2);\n}\n\ngetProductsFromServer(1)\n\nconst logoutFromSite = async () => { // for button \"LEAVE\"\n  return await fetch(\n    `${BASE_URL}auth/logout`,\n    {\n      method: 'POST',\n    }\n  )\n}\n\nconst refresh = async () => {\n  return await fetch(\n    `${BASE_URL}/api/auth/refresh`,\n    {\n      method: 'POST',\n    }\n  )\n}\n\n// const request = async (path) => {\n//   const response = await fetch(`${BASE_URL}api/${path}`);\n//   const result = await response.json();\n\n//   return result;\n// }\n\nexport const getProducts = () => request('products');\nexport const getAuthorization = () => request(`auth/login?${email}&password=${password}`);","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { sendDataToServer, getProductsFromServer } from '../api/api';\n\nimport './form.scss';\n\nexport const Form = ({\n  email,\n  password,\n  setEmail,\n  setPassword,\n  setIsLogined,   /// for sendDataToServer const func = async () => {}\n  errorMessage,\n}) => {\n\n  const sendData = async () => {\n    const response = sendDataToServer(email, password);\n    setIsLogined(response);\n  }\n\n  const handleSubmitForm = useCallback((e) => {\n    e.preventDefault();\n    sendData();\n  }, [email, password]);\n\n  return (\n    <form\n      action=\"\"\n      className=\"form\"\n      onSubmit={handleSubmitForm}\n    >\n      <div className=\"form__login\">\n        <input\n          type=\"text\"\n          className=\"form__login-field\"\n          value={email}\n          placeholder=\"Enter login *\"\n          required\n          onChange={({ target }) => {\n            setEmail(target.value)\n          }}\n        />\n      </div>\n      <div className=\"form__password\">\n        <input\n          type=\"password\"\n          className=\"form__password-field\"\n          value={password}\n          placeholder=\"Enter password *\"\n          required\n          onChange={({ target }) => {\n            setPassword(target.value)\n          }}\n        />\n      </div>\n      <button\n        type=\"submit\"\n        className=\"form__button\"\n      >\n        Enter\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => {\n          getProductsFromServer(1)\n        }}\n      >\n        Show products data\n      </button>\n    </form>\n  );\n};\n\nForm.propTypes = {\n  email: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  errorMessage: PropTypes.bool.isRequired,\n\n  setEmail: PropTypes.func.isRequired,\n  setPassword: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './productFilter.scss';\n\n// const useLocalStorage = (key, initialValue) => {\n//   const [value, setValue] = useState(\n//     JSON.parse(localStorage.getItem(key)) || initialValue\n//   );\n\n//   const save = (value) => {\n//     setValue(value);\n//     localStorage.setItem(key, JSON.stringify(value));\n//   };\n\n//   return [value, save]\n// }\n\n\nexport const ProducFilter = ({\n  titleValue,\n  setTitleValue,\n  applyTitleQuery,\n}) => {\n// const [token, setToken] = useLocalStorage('')\n\n// const {nameQuery, dateQuery, priceRange} = searchParameters;\n\nconst handleTitleChange = ({ target }) => {\n  setTitleValue(target.value);\n  applyTitleQuery(target.value)\n}\n\n  // const handleSubmitChange = (e) => {\n  //   e.preventDefault();\n  // }\n  return (\n    <form\n      className=\"product-filter\"\n      // onSubmit={}\n    >\n      <label\n        className=\"product-filter__title-label\"\n      >\n        <input\n          type=\"text\"\n          className=\"product-filter__title-field\"\n          placeholder=\"Search\"\n          value={titleValue}\n          onChange={handleTitleChange}\n        />\n      </label>\n      <div\n        className=\"product-filter__date-container\"\n      >\n        <input\n          type=\"date\"\n          className=\"product-filter__date-from\"\n        />\n      </div>\n      <div\n        className=\"product-filter__price-container\"\n      >\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"400\"\n          className=\"product-filter__price-range\"\n        />\n      </div>\n    </form>\n  );\n};\n\nProducFilter.propTypes = {\n  titleValue: PropTypes.string.isRequired,\n\n  setTitleValue: PropTypes.func.isRequired,\n  applyTitleQuery: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames'\n\nimport './pageNumbers.scss';\n\nexport const PageNumbers = ({\n  pages,\n  setCurrentPage,\n  currentPage,\n}) => {\n\n  const [pageNumberLimit, setPageNumberLimit] = useState(5);\n  const [maxPageNumberLimit, setMaxPageNumberLimit] = useState(5);\n  const [minPageNumberLimit, setMinPageNumberLimit] = useState(0);\n\n  const handleChangePage = ({ target }) => {\n    setCurrentPage(Number(target.id))\n  }\n\n  const increase = () => {\n    setCurrentPage(prevState => prevState + 1);\n\n    if (currentPage + 1 > maxPageNumberLimit) {\n      setMaxPageNumberLimit(maxPageNumberLimit + pageNumberLimit)\n      setMinPageNumberLimit(minPageNumberLimit + pageNumberLimit)\n    }\n  }\n\n  const decrease = () => {\n    setCurrentPage(prevState => prevState - 1);\n\n    if ((currentPage - 1) % pageNumberLimit === 0) {\n      setMaxPageNumberLimit(maxPageNumberLimit - pageNumberLimit)\n      setMinPageNumberLimit(minPageNumberLimit - pageNumberLimit)\n    }\n  }\n\n  // (number < maxPageNumberLimit + 1 && number > minPageNumberLimit)\n\n  return (\n\n    <div\n      className=\"pages\"\n    >\n      <button\n        type=\"button\"\n        className=\"pages__button pages__button-decrease\"\n        onClick={decrease}\n        disabled={currentPage === 1}\n      >\n        Previous\n      </button>\n      <ul\n        className=\"pages__list\"\n      >\n        {pages.map(number => {\n          if (number < maxPageNumberLimit + 1 && number > minPageNumberLimit) {\n            return (\n              <li\n                key={number}\n                id={number}\n                className={classNames('pages__item', {\n                  pages__item_active: currentPage === number,\n                })}\n                onClick={handleChangePage}\n              >\n                {number}\n              </li>\n            )\n          } else {\n            return null;\n          }\n        })}\n      </ul>\n      <button\n        type=\"button\"\n        className=\"pages__button pages__button-increase\"\n        onClick={increase}\n        disabled={currentPage === pages.length}\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n\nPageNumbers.propTypes = {\n  pages: PropTypes.arrayOf(\n    PropTypes.number.isRequired,\n  ).isRequired,\n\n  currentPage: PropTypes.number.isRequired,\n\n  setCurrentPage: PropTypes.func.isRequired,\n}\n\n\n","import React, { useState } from 'react';\nimport { ProductCard } from '../ProductCard';\nimport { PageNumbers } from '../PageNumbers';\n\nimport './productsList.scss';\n\nexport const ProductsList = ({ products }) => {\n  // const [products, setProducts] = useState([]);\n  // const [productLimit, setProductLimit] = useState(6);\n  // const [offSet, setOffSet] = useState(0);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [productsPerPage, setProductsPerPage] = useState(6);\n\n  const pages = [];\n  for (let i = 1; i <= Math.ceil(products.length/productsPerPage); i++) {\n    pages.push(i);\n  }\n\n  const indexOfLastItem = currentPage * productsPerPage;\n  const indexOfFirstItem = indexOfLastItem - productsPerPage;\n  const currentItems = products.slice(indexOfFirstItem, indexOfLastItem);\n\n  return (\n    <div className=\"products container\">\n      <ul className=\"products__list\">\n        {currentItems.map(product => (\n          <li\n            key={product.id}\n            className=\"product\"\n          >\n            <h3 className=\"product__title\">\n              {product.title}\n            </h3>\n            <p className=\"product__price\">\n              {product.price} грн.\n            </p>\n            <p className=\"product__thumbnail\">\n              {product.thumbnail}\n            </p>\n            {/* <ProductCard\n              {...product}\n            /> */}\n          </li>\n        ))}\n      </ul>\n      <PageNumbers\n        pages={pages}\n        setCurrentPage={setCurrentPage}\n        currentPage={currentPage}\n      />\n    </div>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { getProducts, BASE_URL } from './components/api/api';\nimport productsFromServer from './components/api/products.json';\nimport { Form } from './components/Form';\nimport { ProducFilter } from './components/ProductFilter';\nimport { ProductList } from './components/ProductsList';\n\n\nimport './App.scss';\nimport { ProductsList } from './components/ProductsList/ProductsList';\n\nconst debounce = (f, delay) => {\n  let timerId;\n  return (...args) => {\n    clearTimeout(timerId)\n    timerId = setTimeout(f, delay, ...args);\n  };\n};\n\nexport const App = () => {\n  const [products, setProducts] = useState([]);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLogined, setIsLogined] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(true);\n  const [titleValue, setTitleValue] = useState('');\n  const [appliedQuery, setAppliedQuery] = useState('');\n  const [priceValue, setPriceValue] = useState('');\n  // const [dataValue, setDataValue] = useState('');\n\n  useEffect(() => {\n    setProducts([...productsFromServer])\n  }, []);\n\n  // useEffect(() => {\n    // loadProductsFromServer();\n  // }, []);\n\n  const visibleProducts = useMemo(() => products.filter((product) => {\n    const { titleValue, priceValue, dataValue } = activeSearchParameters;\n    const { title, price, date} = product;\n  }), [])\n\n  const applyTitleQuery = debounce(setAppliedQuery, 1000);\n\n  console.log(appliedQuery);\n\n  const titleFilter = product => (\n    product.title === null\n      ? product.title\n      : (product.title.toLocaleLowerCase())\n        .includes(appliedQuery.toLocaleLowerCase())\n  );\n\n  const filteredByTitleProducts = useMemo(() => {\n    return products\n    .filter(titleFilter);\n  }, [appliedQuery])\n\n  return (\n  <div className=\"app\">\n    {!isLogined && (\n      <Form\n        email={email}\n        setEmail={setEmail}\n        password={password}\n        setPassword={setPassword}\n        errorMessage={errorMessage}\n        setIsLogined={setIsLogined}\n        isLogined={isLogined}\n      />\n    )}\n    <ProducFilter\n      setTitleValue={setTitleValue}\n      titleValue={titleValue}\n      applyTitleQuery={applyTitleQuery}\n      setPriceValue={setPriceValue}\n      priceValue={priceValue}\n    />\n    <ProductsList\n      products={filteredByTitleProducts.length ? filteredByTitleProducts : products}\n    />\n  </div>\n  );\n};\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}